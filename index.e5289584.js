function n(n,t,e,o){Object.defineProperty(n,t,{get:e,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},o={},r=t.parcelRequire46e4;null==r&&((r=function(n){if(n in e)return e[n].exports;if(n in o){var t=o[n];delete o[n];var r={id:n,exports:{}};return e[n]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,t){o[n]=t},t.parcelRequire46e4=r),r.register("7PhYn",(function(t,e){var o,r;n(t.exports,"register",(()=>o),(n=>o=n)),n(t.exports,"resolve",(()=>r),(n=>r=n));var a={};o=function(n){for(var t=Object.keys(n),e=0;e<t.length;e++)a[t[e]]=n[t[e]]},r=function(n){var t=a[n];if(null==t)throw new Error("Could not resolve bundle with id "+n);return t}})),r("7PhYn").register(JSON.parse('{"di8mO":"index.e5289584.js","4h7qE":"piedra.60203d08.png","cVtNQ":"papel.9f7b03c8.png","36EX9":"tijeras.cad77ea3.png"}'));const a={data:{userName:"",resultadoParcial:"",currentGame:{myPlay:"",pcPlay:""},historyScore:{myPlay:0,pcPlay:0}},listeners:[],init(){const n=localStorage.getItem("game-state");a.setState(JSON.parse(n))},getState(){return this.data},setState(n){this.data=n;for(const t of this.listeners)t(n);localStorage.setItem("game-state",JSON.stringify(n))},subscribe(n){this.listeners.push(n)},addUserName(n){this.getState().userName=n},move(n,t){const e=this.getState();e.currentGame.myPlay=n,e.currentGame.pcPlay=t,"piedra"==n&&"tijeras"==t||"papel"==n&&"piedra"==t||"tijeras"==n&&"papel"==t?(e.historyScore.myPlay++,e.resultadoParcial="GANASTE"):n==t?e.resultadoParcial="EMPATE":(e.historyScore.pcPlay++,e.resultadoParcial="PERDISTE"),this.setState(e)}};var s;r.register("kVZsc",(function(t,e){var o;n(t.exports,"getBundleURL",(()=>o),(n=>o=n));var r={};function a(n){return(""+n).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(n){var t=r[n];return t||(t=function(){try{throw new Error}catch(t){var n=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(n)return a(n[2])}return"/"}(),r[n]=t),t}})),s=r("kVZsc").getBundleURL("di8mO")+r("7PhYn").resolve("4h7qE");var i;i=r("kVZsc").getBundleURL("di8mO")+r("7PhYn").resolve("cVtNQ");var c;c=r("kVZsc").getBundleURL("di8mO")+r("7PhYn").resolve("36EX9");const l=[{path:/hello/,handler:function(n){const t=document.createElement("div");t.innerHTML='\n  <h1 class="titulo">PIEDRA,<br>PAPEL O<br>TIJERAS</h1>\n  <br>\n  <input-comp label="nombre" type="text" name="nombre" class="input"></input-comp>\n  <br>\n  <button-comp type="submit">INGRESAR</button-comp>\n \n  ';const e=t.querySelector(".input");t.querySelector("button-comp").addEventListener("click",(t=>{const o=e.shadowRoot.querySelector("input").value[0].toUpperCase()+e.shadowRoot.querySelector("input").value.slice(1);a.addUserName(o),n.goTo("/instructions")}));const o=document.createElement("style");return o.textContent="\n  .titulo{\n    font-size: 58px;\n    text-align: center;\n  }\n  @media(min-width:490px){\n    .titulo{\n      font-size: 74px;\n    }\n  }\n",t.appendChild(o),t}},{path:/instructions/,handler:function(n){const t=document.createElement("div");t.innerHTML=`\n    \n    <p class="titulo">Hola ${a.getState().userName}</p>\n    <br>\n    <p class="text">Tenés 3 segundos<br>para seleccionar<br>"piedra", "papel"<br>o "tijeras"</p>\n    <br>\n    <br>\n    <button-comp class="button">JUGAR AHORA</button-comp>\n\n    `;const e=document.createElement("style");return e.textContent="\n  .titulo{\n    font-size: 48px;\n  }\n  .text{\n    font-size: 24px;\n  }\n",t.appendChild(e),t.querySelector(".button").addEventListener("click",(()=>{n.goTo("/game")})),t}},{path:/game/,handler:function(n){let t=3;const e=setInterval((()=>{t--,t<0&&(clearInterval(e),n.goTo("/time-out"))}),1e3),o=document.createElement("div");o.innerHTML=`\n    <countdown-comp></countdown-comp>\n    <div class="hands-container">\n      <div class="one-hand" type="piedra">\n      <img class="hand-img piedra" src=${s}></div>\n      <br>\n      <div class="one-hand" type="papel">\n      <img class="hand-img papel" src=${i}></div>\n      <br>\n      <div class="one-hand" type="tijeras">\n      <img class="hand-img tijeras" src=${c}></div>\n      <br>\n    </div>\n  \n  `;const r=o.querySelector(".hands-container").children;for(const t of r)t.addEventListener("click",(r=>{clearInterval(e);const l=t.getAttribute("type"),d=["piedra","papel","tijeras"][Math.trunc(3*Math.random())];a.move(l,d);const u=[s,i,c];o.innerHTML=`\n          <img class="hand-selected" style="transform: rotate(180deg); height: 40%; display: block; margin: 0 auto" src=${u.find((n=>n.includes(d)))}></div>\n          <div style="height: 20%">\n          </div>\n          <img class="hand-selected" style="height: 40%; display: block; margin: 0 auto" src=${u.find((n=>n.includes(l)))}></div>\n      `;let p=1;const h=setInterval((()=>{p--,p<0&&(clearInterval(h),n.goTo("/results"))}),1e3)}));o.classList.add("root");const l=document.createElement("style");return l.textContent="\n  *{\n    box-sizing: border-box;\n  }\n  .root{\n    margin: 0px;\n    width: 100%;\n    max-width: 500px;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n  .counter{\n    flex-grow: 1;\n  }\n  .hands-container{\n    width: 100%;\n    display: flex;\n    align-item: center;\n    justify-content: space-between;\n    bottom: -10px;\n  }\n  .hand-img{\n    height: 220px;\n  }\n  .one-hand{\n    width: 30%;\n    height: min-content;\n    display: flex;\n    align-item: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n  *::selection{\n    background-color: #f4a261;\n  }\n  ",o.appendChild(l),o}},{path:/results/,handler:function(n){const t=a.getState().historyScore.myPlay,e=a.getState().historyScore.pcPlay,o=document.createElement("div");o.innerHTML=`\n    <results-comp></results-comp>\n    <br>\n    <br>\n    <div class="score">\n    <p class="my-score"> ${a.getState().userName}: ${t}</p>\n    <p class="pc-score"> Compu: ${e}</p>\n    </div>\n    <br>\n    <button-comp class="button">SEGUIR JUGANDO</button-comp>\n\n    `;const r=document.createElement("style");return r.textContent="\n    p{\n      font-size: 32px;\n      margin: 10px;\n    }\n  ",o.appendChild(r),o.querySelector(".button").addEventListener("click",(()=>{n.goTo("/game")})),o}},{path:/time-out/,handler:function(n){const t=document.createElement("div");t.innerHTML='\n  <h1 class="titulo">Se te acabó el tiempo</h1>\n  <br>\n  <button-comp class="button">JUGAR AHORA</button-comp>\n\n  ';const e=document.createElement("style");return e.textContent="\n  .titulo{\n    font-size: 36px;\n  }\n\n",t.appendChild(e),t.querySelector(".button").addEventListener("click",(()=>{n.goTo("/game")})),t}}];function d(){return location.host.includes("github.io")}customElements.define("button-comp",class extends HTMLElement{constructor(){super(),this.render()}render(){var n=this.attachShadow({mode:"open"});const t=document.createElement("button");t.textContent=this.textContent,t.classList.add("root");const e=document.createElement("style");e.textContent='\n              .root{\n                width: 300px;\n                height: 55px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                margin: auto;            \n                border: none;\n                background-color: #f4a261;\n                font-size: 32px;     \n                border-radius: 41% 48% 43% 39% / 7% 0% 5% 10%; \n                color: #fcffb0;     \n                cursor: pointer;\n                font-family: "Delius", cursive; \n              }\n              .root:active{\n                background-color: #f5bd8f;\n                transition: 0.5s;\n              }\n              *::selection{\n                background-color: #f4a261;\n              }\n\n            ',n.appendChild(t),n.appendChild(e)}}),customElements.define("input-comp",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render()}render(){const n=this.getAttribute("label"),t=this.getAttribute("name"),e=this.getAttribute("type"),o=document.createElement("label");o.innerHTML=`\n          <span class="span">Para continuar, ingresá tu ${n}:</span>\n          <input placeholder=${n[0].toUpperCase()+n.slice(1)} type=${e} name=${t} class="input">\n      `,o.classList.add("root");const r=document.createElement("style");r.textContent='\n              .root{\n                width: 312px;\n                display: flex;\n                flex-direction: column;\n                align-items: initial;\n                margin: auto;\n              }\n              @media (min-width: 470px){\n                .root{\n                    width: 353px;\n                }\n              }\n              .span{\n                font-size: 24px;\n\n              }\n              .input{\n                width: 300px;\n                height: 55px;\n                font-size: 32px;\n                font-family: "Delius", cursive;\n                text-align: center;\n                margin: 15px auto 0 auto;\n                cursor: pointer;\n                border-radius: 41% 48% 43% 10% / 17% 0% 13% 10% ;\n                border: none;\n                background-color: #f4a261;\n              }\n              .input:active, .input:focus{\n                outline: none;\n                background-color: #f5bd8f;\n                transition: 0.5s;\n              }\n              *::selection{\n                background-color: #f4a261;\n            }\n            ',this.shadow.appendChild(r),this.shadow.appendChild(o)}}),customElements.define("results-comp",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render(),a.subscribe((()=>this.render()))}render(){const n=a.getState().resultadoParcial,t=document.createElement("div");var e;t.innerHTML=`\n\n    <h2 class="result">${n}</h2>\n\n    `,e="GANASTE"==n?"#18b43f":"PERDISTE"==n?"#b42218":"#f3da4e",t.classList.add("root");const o=document.createElement("style");o.textContent=`\n  .root{\n    width: 250px;\n    height: 250px;\n    border-radius: \n    ${Math.trunc(100*Math.random())}% \n    ${Math.trunc(100*Math.random())}% \n    ${Math.trunc(100*Math.random())}% \n    ${Math.trunc(100*Math.random())}% / \n    ${Math.trunc(100*Math.random())}% \n    ${Math.trunc(100*Math.random())}% \n    ${Math.trunc(100*Math.random())}% \n    ${Math.trunc(100*Math.random())}%;\n    background-color: ${e};\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto;\n  }\n  .result{\n    color:black;\n  }\n  *::selection{\n    background-color: #f4a261;\n  }\n\n`,this.shadow.appendChild(t),this.shadow.appendChild(o)}}),customElements.define("countdown-comp",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.timer()}timer(){let n=3;const t=setInterval((()=>{this.render(n),n--,n<0&&clearInterval(t)}),1e3)}render(n){this.shadowRoot.replaceChildren();const t=document.createElement("div");t.innerHTML=`\n      <h2 class="counter">${n}</h2>`,t.classList.add("root");const e=document.createElement("style");e.textContent="\n        .root{\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .counter{\n          font-size: 240px;\n        }\n        @media(max-width:490px){\n          .counter{\n            font-size: 120px;\n          }\n        }\n        *::selection{\n          background-color: #f4a261;\n        }\n        ",this.shadow.appendChild(e),this.shadow.appendChild(t)}}),function(){localStorage["game-state"]&&a.init();!function(n){function t(n){const t=d()?"/piedra-game"+n:n;history.pushState({},"",t),e(t)}function e(e){const o=d()?e.replace("/piedra-game",""):e;for(const e of l)if(e.path.test(o)){const o=e.handler({goTo:t});n.firstChild&&n.firstChild.remove(),n.appendChild(o)}}"/"==location.pathname?t("/hello"):e(location.pathname),window.onpopstate=function(){e(location.pathname)}}(document.querySelector(".root"))}();
//# sourceMappingURL=index.e5289584.js.map
